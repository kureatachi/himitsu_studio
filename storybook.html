<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>秘密スタジオ - Stories</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Skip button -->
    <div class="skip-button">
        <a href="studio.html" onclick="localStorage.removeItem('origamiFlowState'); return true;">Skip to Studio</a>
    </div>

    <!-- Scroll down indicator (hidden for autoplay) -->
    <div class="scroll-indicator" style="display: none;">
        <div class="scroll-text">Scroll down to explore the stories</div>
        <div class="scroll-arrow">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M7 13l3 3 3-3M7 6l3 3 3-3"/>
            </svg>
        </div>
    </div>


    <div class="stories-container">
        <!-- Story 1 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble.png" alt="Story 1" />
            </div>
        </div>

        <!-- Story 2 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble2.png" alt="Story 2" />
            </div>
        </div>

        <!-- Story 3 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble3.png" alt="Story 3" />
            </div>
        </div>

        <!-- Story 4 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble4.png" alt="Story 4" />
            </div>
        </div>

        <!-- Story 5 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble5.png" alt="Story 5" />
            </div>
        </div>

        <!-- Story 6 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble6.png" alt="Story 6" />
            </div>
        </div>

        <!-- Story 7 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble7.png" alt="Story 7" />
            </div>
        </div>

        <!-- Story 8 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble8.png" alt="Story 8" />
            </div>
        </div>

        <!-- Story 9 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble9.png" alt="Story 9" />
            </div>
        </div>

        <!-- Story 10 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble10.png" alt="Story 10" />
            </div>
        </div>

        <!-- Story 11 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble11.png" alt="Story 11" />
            </div>
        </div>

        <!-- Story 12 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble12.png" alt="Story 12" />
            </div>
        </div>

        <!-- Story 13 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble13.png" alt="Story 13" />
            </div>
        </div>

        <!-- Story 14 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble14.png" alt="Story 14" />
            </div>
        </div>

        <!-- Story 15 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble15.png" alt="Story 15" />
            </div>
        </div>

        <!-- Story 16 -->
        <div class="story-item">
            <div class="story-image">
                <img src="storybookfinal/messydrawerdouble16.png" alt="Story 16" />
            </div>
        </div>

    </div>

    <style>
        /* Crossfade transition for story items */
        .story-item {
            transition: opacity 1.2s ease-in-out;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .stories-container {
            position: relative;
            width: 100%;
            height: 100vh;
        }
    </style>
    
    <script>
        // Autoplay storybook images in a loop with crossfade
        (function() {
            const storyItems = document.querySelectorAll('.story-item');
            let currentIndex = 0;
            const displayDuration = 5000; // 5 seconds per image (adjust as needed)
            const transitionDuration = 1200; // Crossfade duration in milliseconds
            
            // Position all story items absolutely and set initial states
            storyItems.forEach((item, index) => {
                item.style.position = 'absolute';
                item.style.top = '0';
                item.style.left = '0';
                item.style.width = '100%';
                item.style.height = '100%';
                
                if (index !== 0) {
                    item.style.display = 'flex';
                    item.style.opacity = '0';
                    item.style.zIndex = '1';
                } else {
                    item.style.display = 'flex';
                    item.style.opacity = '1';
                    item.style.zIndex = '2';
                }
            });
            
            // Function to show next image with crossfade transition
            function showNextImage() {
                // Get current and next items
                const currentItem = storyItems[currentIndex];
                const nextIndex = (currentIndex + 1) % storyItems.length;
                const nextItem = storyItems[nextIndex];
                
                if (currentItem && nextItem) {
                    // Bring next item to front
                    nextItem.style.zIndex = '2';
                    currentItem.style.zIndex = '1';
                    
                    // Show next item if hidden
                    if (nextItem.style.display === 'none') {
                        nextItem.style.display = 'flex';
                    }
                    
                    // Start crossfade: both images visible, one fading out, one fading in
                    nextItem.style.opacity = '0';
                    // Small delay to ensure next item is rendered
                    setTimeout(() => {
                        // Fade out current, fade in next simultaneously
                        currentItem.style.opacity = '0';
                        nextItem.style.opacity = '1';
                    }, 10);
                    
                    // Hide current item after transition completes
                    setTimeout(() => {
                        currentItem.style.display = 'none';
                    }, transitionDuration);
                }
                
                // Move to next image
                currentIndex = nextIndex;
            }
            
            // Start autoplay loop after page loads
            setTimeout(() => {
                setInterval(showNextImage, displayDuration);
            }, 1000); // Wait 1 second before starting autoplay
        })();
    </script>
    <script src="script.js"></script>
</body>
</html>
